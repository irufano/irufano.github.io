(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[224],{1235:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/insight/search",function(){return s(1955)}])},2684:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var n=s(5893),a=s(7294),r=s(9794),l=s(2999),o=()=>{let[e,t]=(0,a.useState)("light");return(0,a.useEffect)(()=>{"dark"!==localStorage.theme&&("theme"in localStorage||!window.matchMedia("(prefers-color-scheme: dark)").matches)?(document.documentElement.classList.remove("dark"),t("light")):(document.documentElement.classList.add("dark"),t("dark"))},[]),(0,n.jsx)("button",{onClick:()=>{"dark"===e?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),t("light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),t("dark"))},className:"flex items-center justify-center w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 focus:outline-none","aria-label":"Toggle Theme",children:"dark"===e?(0,n.jsx)(r.Z,{className:"w-6 h-6 text-yellow-500"}):(0,n.jsx)(l.Z,{className:"w-6 h-6 text-gray-900"})})};function c(e){let{children:t}=e;return(0,n.jsxs)("div",{className:"min-h-screen",children:[(0,n.jsx)("header",{children:(0,n.jsxs)("div",{className:"flex justify-between items-center p-4 bg-emerald-300 dark:bg-gray-800 fixed",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mr-4",children:"My Blog"}),(0,n.jsx)(o,{})]})}),(0,n.jsx)("main",{children:t}),(0,n.jsx)("footer",{className:"p-4 text-center",children:(0,n.jsx)("p",{children:"\xa9 2024 My Blog"})})]})}},1955:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return i},default:function(){return d}});var n=s(5893),a=s(7294),r=s(1163),l=s(1664),o=s.n(l),c=s(2684),i=!0;function d(e){let{posts:t}=e,s=(0,r.useRouter)(),{query:l}=s,[i,d]=(0,a.useState)(l.query||""),[u,h]=(0,a.useState)(parseInt(l.page,10)||1);(0,a.useEffect)(()=>{l.query!==i&&d(l.query||""),l.page&&parseInt(l.page,10)!==u&&h(parseInt(l.page,10)||1)},[l.query,l.page]);let m=t.filter(e=>{var t,s,n;return(null===(s=e.meta)||void 0===s?void 0:null===(t=s.title)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(n=e.rawContent)||void 0===n?void 0:n.toLowerCase().includes(i.toLowerCase()))}),x=Math.ceil(m.length/5),g=(u-1)*5,p=m.slice(g,g+5),f=e=>{h(e),s.push("/insight/search?query=".concat(encodeURIComponent(i),"&page=").concat(e))};function b(e,t){let s=RegExp(t,"gi");return e.replace(s,e=>'<span style="background-color: yellow;">'.concat(e,"</span>"))}return(0,n.jsx)(c.Z,{children:(0,n.jsxs)("div",{className:"container mx-auto px-4 pt-16",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Search Posts"}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h(1),s.push("/insight/search?query=".concat(encodeURIComponent(i),"&page=1"))},className:"mb-8",children:[(0,n.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"Search posts...",className:"px-4 py-2 border rounded-l w-64"}),(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-r",children:"Search"})]}),i&&(0,n.jsxs)("p",{className:"mb-4",children:["Results for: ",(0,n.jsx)("span",{className:"font-semibold",children:i})]}),p.length>0?(0,n.jsx)("ul",{children:p.map(e=>{var t,s;return(0,n.jsxs)("li",{className:"mb-4",children:[(0,n.jsx)(o(),{href:"/insight/posts/".concat(e.slug),children:(0,n.jsx)("p",{className:"text-xl font-bold text-blue-500",children:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:b(null===(t=e.meta)||void 0===t?void 0:t.title,i.toLowerCase())}})})}),(0,n.jsx)("p",{className:"text-lg font-semibold",children:null===(s=e.meta)||void 0===s?void 0:s.date}),i&&(0,n.jsxs)("div",{className:"text-base",children:["...",(0,n.jsx)("span",{className:"prose prose-lg dark:prose-dark",dangerouslySetInnerHTML:{__html:function(e,t){let s=e.replace(/[#!,\[\]\-`\{\}\=\;\(\)]/g,"").trim().toLowerCase(),n=s.toLowerCase().indexOf(t.toLowerCase());if(-1===n)return"Keyword not found.";let a=Math.max(0,n-Math.floor((36-t.length)/2));return a+36>s.length&&(a=s.length-36),b(s.substr(a,36),t)}(e.rawContent,i.toLowerCase())}}),"..."]})]},e.slug)})}):(0,n.jsx)("p",{children:"No posts found."}),x>1&&(0,n.jsxs)("div",{className:"mt-8 flex justify-between",children:[(0,n.jsx)("button",{onClick:()=>f(u-1),disabled:1===u,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded",children:"Previous"}),(0,n.jsxs)("div",{className:"flex items-center",children:["Page ",u," of ",x]}),(0,n.jsx)("button",{onClick:()=>f(u+1),disabled:u===x,className:"bg-gray-300 text-gray-800 px-4 py-2 rounded",children:"Next"})]})]})})}}},function(e){e.O(0,[747,888,774,179],function(){return e(e.s=1235)}),_N_E=e.O()}]);